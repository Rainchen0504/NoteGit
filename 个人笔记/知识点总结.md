## 99、响应式原理

当`render`渲染该数据时，出发getter进行依赖收集，收集依赖的目的是将观察者watcher放到当前订阅者Dep的管理下形成一种关联关系。

当修改值的时候，会触发setter，setter会通知订阅者Dep中收集到的watcher依赖值发生改变，需要重新渲染视图，watcher调用update函数更新视图，update中包含patch的过程（diff算法、队列异步更新）



## 11、HTTP请求报文

请求报文由4部分组成：

- 请求行
  - 请求方法字段、URL字段、HTTP协议版本字段，使用空格分隔，如`GET/index.html HTTP/1.1`。
- 请求头部
  - 请求头部由关键字/值对组成，每行一对，关键字和值用冒号分隔
    - User-Agent：产生请求的浏览器类型；
    - Accept：客户端可识别的内容类型列表；
    - Host：请求的主机名，允许多个域名同处一个IP地址，即虚拟主机
- 空行
- 请求体
  - post、put等请求携带的数据



## 12、HTTP响应报文

响应报文由4部分组成：

- 响应行
  - 由网络协议版本，状态码和状态码原因短语组成，如`HTTP/1.1 200 OK`。
- 响应头
  - 响应部首组成
- 空行
- 响应体
  - 服务器相应的数据



## 13、HTTP两种连接模式

HTTP协议基于TCP/IP，并使用了**请求-应答**的通信模式。

HTTP协议有两种连接模式，<font color=pink>一种是持续连接，一种是非持续连接</font>。

- 非持续连接是服务器必须为每一个请求的对象建立和维护一个全新的连接；
- 持续连接TCP连接默认不关闭，可以被多个请求复用，相对非持续连接可以节约每次建立TCP连接三次握手所花费的时间。



## 14、TCP三次握手四次挥手

### （1）三次握手

- 第一次握手：客户端发送一个带有SYN（synchronize）标志的数据包给服务端；
- 第二次握手：服务端接收成功后，回传一个带有SYN/ACK标志的数据包传递确认信息，表示我收到了；
- 第三次握手：客户端再回传一个带有ACK标志的数据包，表示我知道了，握手结束。

### （2）四次挥手

- 第一次挥手：客户端发送一个FIN，关闭客户端到服务端的数据传送，客户端进入等待远端TCP连接终止请求状态；
- 第二次挥手：服务端收到FIN后，发送一个ACK给客户端，进入等待本地用户啊连接终止请求状态；
- 第三次挥手：服务端发送一个FIN，关闭服务端到客户端的数据传送，服务端进入等待先前发送给远端TCP连接终止请求的确认状态；
- 第四次挥手：客户端收到FIN，等待服务端终止TCP连接，发送一个ACK给服务端，服务端进入不连接状态，完成四次挥手；



## 15、URL的组成

1. 协议部分：HTTP或HTTPS
2. 域名部分：可以是域名也可以是IP地址
3. 端口部分：跟在域名后面，可以省略，HTTP默认是80，HTTPS默认是443
4. 虚拟目录部分：从域名后第一个/到最后一个/为止
5. 文件名部分
6. 锚部分：从#开始到最后
7. 参数部分：从？到#之间的部分



## 16、HTTP的keep-alive

**http1.0默认关闭缓存**，需要手动开启，**http1.1之后默认开启**。

### （1）作用

使客户端到服务器端的链接持续有效（长连接），当出现对服务器的后续请求时，keep-Alive功能避免了重新建立链接；

### （2）使用方法

在请求头中加上`Connection:keep-alive`；

### （3）优点

较少的CPU和内存的占用；减少了后续请求的延迟；

### （4）缺点

 本来可以释放的资源仍旧被占用。有的请求已经结束了，但是还一直连接着；

### （5）解决方法

服务器设置过期时间和请求次数，超过这个时间或者次数就断掉连接。



## 17、缓存相关的HTTP请求头

### （1）强缓存

Expires、Cache-Control



### （2）协商缓存

Etag、If-None-Match

Last-Modified、If-Modified-Since



## 17、OSI网络七层模型

ISO于1978年开发的一套标准架构ISO模型，被引<font color=deepred>用来说明**数据通信协议的结构和功能**</font>：

网络群组：物理层、数据链路层、网络层

使用者群组：传输层、会话层、表示层、应用层

![6491686243520_.pic](https://raw.githubusercontent.com/Rainchen0504/picture/master/202306090107885.jpg)





## 15、DNS

域名系统，万维网上作为域名和IP地址相互映射的一个分布式数据库，能够通过域名得到该域名对应的IP地址，而这个过程叫做域名解析；

### 查询过程

1. 搜索浏览器自身的DNS缓存，存在就返回，解析结束；
2. 如果没有缓存，就尝试读区操作系统的hosts文件查看是否存在对应映射关系，如果存在就返回，解析结束；
3. 如果hosts文件不存在映射关系，则查找本地DNS服务器，如果存在域名解析完成；
4. 如果本地DNS服务器还没找到的话，就向服务器发送请求，进行递归查询；



## 14、为什么post请求会发送两次

- 第一次请求为`options`预检请求，状态码为204。
  - 作用1：询问服务器是否支持修改的请求头，如果服务器支持，在二次中发送真正请求；
  - 作用2：检测服务器是否为同源请求，是否支持跨域；

- 第二次为真正的`post`请求。



## 16、CDN

​	`Content Delivery NetWork`——内容分发网络。用户在浏览网站的时候，CDN 会选择一个离用户最近的 CDN 边缘节点来响应用户的请求，这样海南移动用户的请求就不会                                                                                                                          千里迢迢跑到北京电信机房的服务器（假设源站部署在北京电信机房）上。

**优点**：

1. 解决了跨运营商和跨地域访问的问题，访问延时大大降低。
2. 大部分请求在CDN边缘节点完成，CDN起到分流作用，减轻源服务器的负载。

